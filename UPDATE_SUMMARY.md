# โ ุชู ุชุญุฏูุซ ูุธุงู ุญูุธ ุงูุนูุงูุฑ - Building Save System Updated

---

## ๐ ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง:

### 1. `add_address_column.sql` (ุงุณุชุฎุฏู ูุฐุง ุฃููุงู) โญ
**ุงูุฃุณุฑุน ูุงูุฃุณูู - ููุฐู ุงูุขู ูู Supabase!**
- ูุถูู ุนููุฏ `address` ููุท
- ุขูู 100% - ูู ูุญุฐู ุฃู ุจูุงูุงุช
- **ููุฐู ูู: Supabase Dashboard โ SQL Editor**

### 2. `update_buildings_schema.sql`
ุงูุณูุฑูุจุช ุงููุงูู ูุฅูุดุงุก ุฌุฏูู buildings ูู ุงูุตูุฑ (ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ)

### 3. `SUPABASE_UPDATE_GUIDE.md`
ุฏููู ูุงูู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ูุชุทุจูู ุงูุชุญุฏูุซุงุช

---

## ๐ ุฎุทูุงุช ุณุฑูุนุฉ ููุชูุนูู:

### ุงูุฎุทูุฉ 1: ุชุทุจูู ุงูุชุญุฏูุซ ุนูู Supabase
1. ุงูุชุญ ูุดุฑูุนู ูู https://supabase.com
2. ุงุฐูุจ ุฅูู **SQL Editor**
3. ุงูุณุฎ ูุงูุตู ูุฐุง ุงูููุฏ:

```sql
ALTER TABLE buildings ADD COLUMN IF NOT EXISTS address TEXT;
```

4. ุงุถุบุท **Run** โถ๏ธ
5. ุงูุชุธุฑ ุฑุณุงูุฉ ุงููุฌุงุญ โ

### ุงูุฎุทูุฉ 2: ุฌุฑุจ ุงูุญูุธ
- ุงุฑุฌุน ููุชุทุจูู
- ุงุฐูุจ ูุตูุญุฉ ุฅุถุงูุฉ ุนูุงุฑุฉ ุฌุฏูุฏุฉ
- ุฃููู ุฌููุน ุงูุฎุทูุงุช ุงูุฎูุณ
- ุงุถุบุท "ุญูุธ ุงูุนูุงุฑุฉ"
- ูุฌุจ ุฃู ูุนูู ุจุฏูู ุฃุฎุทุงุก! ๐

---

## โจ ูุง ุงูุฐู ุชู ุชุญุฏูุซู ูู ุงูููุฏ:

### ูู ููู `new/page.tsx`:

#### 1. ุฅุถุงูุฉ ุจูุงุก ุงูุนููุงู
```typescript
const buildingAddress = `${formData.neighborhood || ''} - ูุทุนุฉ ${formData.plotNumber || ''}`.trim()
```

#### 2. ุชูุธูู ุงูุจูุงูุงุช ุงููุญููุธุฉ
ุชู ุชูุธูู ุฌููุน ุงูุจูุงูุงุช ูู ูุฌููุนุงุช ูุงุถุญุฉ:
- โ ูุนูููุงุช ุฃุณุงุณูุฉ (Basic Information)
- โ ุชูุงุตูู ุงูุจูุงุก (Building Details)
- โ ูุนูููุงุช ูุงููููุฉ (Legal Information)
- โ ุงูุชุฃููู (Insurance)
- โ ุงูุนุฏุงุฏุงุช (Utility Meters)
- โ ูุนูููุงุช ุงูุญุงุฑุณ (Guard Information)
- โ ูุนูููุงุช ุงุชุญุงุฏ ุงูููุงู (Owner Association)
- โ ุงููููุน ูุงูุจูุงูุงุช ุงูุฅุถุงููุฉ (Location & Additional Data)

#### 3. ูุนุงูุฌุฉ ุงุชุญุงุฏ ุงูููุงู ุจุดูู ุตุญูุญ
```typescript
owner_association: ownerAssociation.hasAssociation ? {
  hasAssociation: ownerAssociation.hasAssociation,
  managerName: ownerAssociation.managerName || null,
  registrationNumber: ownerAssociation.registrationNumber || null,
  registeredUnitsCount: ownerAssociation.registeredUnitsCount || null,
  iban: ownerAssociation.iban || null,
  accountNumber: ownerAssociation.accountNumber || null,
  contactNumber: ownerAssociation.contactNumber || null,
  startDate: ownerAssociation.startDate || null,
  endDate: ownerAssociation.endDate || null,
  monthlyFee: ownerAssociation.monthlyFee || null,
  includesElectricity: ownerAssociation.includesElectricity || false,
  includesWater: ownerAssociation.includesWater || false,
} : null
```

---

## ๐ ุงูุจูุงูุงุช ุงูุชู ูุชู ุญูุธูุง ุงูุขู:

### ุงูุฎุทูุฉ 1: ูุนูููุงุช ุงูุนูุงุฑุฉ
- ุงุณู ุงูุนูุงุฑุฉ โ
- ุฑูู ุงููุทุนุฉ โ
- ุงูุญู โ
- ุงูุนููุงู (ุชู ุฅูุดุงุคู ุชููุงุฆูุงู) โ
- ุงููุตู โ
- ุฑูู ุงููุงุชู โ

### ุงูุฎุทูุฉ 2: ุชูุงุตูู ุงูุนูุงุฑุฉ
- ุนุฏุฏ ุงูุฃุฏูุงุฑ โ
- ุงููุญุฏุงุช ุงููุญุฌูุฒุฉ โ
- ููุงูู ุงูุณูุงุฑุงุช โ
- ุบุฑู ุงูุณุงุฆููู โ
- ุนุฏุฏ ุงููุตุงุนุฏ โ
- ููุน ุงูุดุงุฑุน โ
- ูุงุฌูุฉ ุงูุจูุงุก โ
- ุณูุฉ ุงูุจูุงุก โ
- ุญุงูุฉ ุงูุจูุงุก โ
- ุฑูู ุงูุตู โ
- ูุณุงุญุฉ ุงูุฃุฑุถ โ
- ุฑูู ุฑุฎุตุฉ ุงูุจูุงุก โ
- ูุนูููุงุช ุงูุชุฃููู โ
- ุนุฏุงุฏุงุช ุงูููุงู ูุงูููุฑุจุงุก โ

### ุงูุฎุทูุฉ 3: ุงููุญุฏุงุช ุงูุณูููุฉ
- ุฌููุน ูุนูููุงุช ุงูุทูุงุจู โ
- ุฌููุน ูุนูููุงุช ุงููุญุฏุงุช (ูุญููุธุฉ ูู floors_data) โ
- ูุชู ุฅูุดุงุก ุณุฌูุงุช ูููุตูุฉ ูู ุฌุฏูู units โ

### ุงูุฎุทูุฉ 4: ูุนูููุงุช ุฅุถุงููุฉ
- ูุนูููุงุช ุงูุญุงุฑุณ ุงููุงููุฉ โ
- ุตูุฑ ุงูุนูุงุฑุฉ โ
- ุฑุงุจุท ุฎุฑุงุฆุท ุฌูุฌู โ

### ุงูุฎุทูุฉ 5: ุงุชุญุงุฏ ุงูููุงู
- ุฌููุน ุงูุญููู ุงูู12 โ
- ูุญููุธุฉ ุจุดูู ููุธู ูู JSONB โ

---

## โ๏ธ ููู ุฌุฏุงู:

### ูุจู ุงุฎุชุจุงุฑ ุงูุญูุธ:
1. โ ุชุฃูุฏ ูู ุชูููุฐ ุงูุณูุฑูุจุช SQL ูู Supabase
2. โ ุชุญุฏูุซ ุงูุตูุญุฉ ูู ุงููุชุตูุญ (Ctrl+F5)
3. โ ุงููุฃ ุฌููุน ุงูุญููู ุงููุทููุจุฉ
4. โ ุชุฃูุฏ ูู ุฅุถุงูุฉ ูุญุฏุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู

### ุฅุฐุง ุธูุฑ ุฎุทุฃ:
- ุฑุงุฌุน ููู `SUPABASE_UPDATE_GUIDE.md`
- ุชุฃูุฏ ูู ุชุทุจูู ุงูุณูุฑูุจุช SQL
- ุงูุญุต console ูู ุงููุชุตูุญ (F12)
- ุฃุฑุณู ุฑุณุงูุฉ ุงูุฎุทุฃ ูุงููุฉ

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

ุงูุขู ุนูุฏ ุญูุธ ุนูุงุฑุฉ ุฌุฏูุฏุฉุ ุณูุชู:
1. โ ุญูุธ ุฌููุน ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
2. โ ุญูุธ ุฌููุน ุชูุงุตูู ุงูุจูุงุก
3. โ ุญูุธ ูุนูููุงุช ุงูุญุงุฑุณ
4. โ ุญูุธ ูุนูููุงุช ุงุชุญุงุฏ ุงูููุงู (12 ุญูู)
5. โ ุญูุธ ุจูุงูุงุช ุงูุทูุงุจู ูุงููุญุฏุงุช
6. โ ุฑูุน ูุญูุธ ุงูุตูุฑ
7. โ ุฅูุดุงุก ุณุฌูุงุช ูููุญุฏุงุช ูู ุฌุฏูู ูููุตู
8. โ ุฅุธูุงุฑ ุฑุณุงูุฉ ูุฌุงุญ
9. โ ุงูุงูุชูุงู ูุตูุญุฉ ุงูุนูุงูุฑ ุชููุงุฆูุงู

---

## ๐ ููุงุญุธุงุช:

- ุชู ุฅุตูุงุญ ูุดููุฉ ุญูุธ ุงูุนูุงุฑุฉ ูู ุงูุฎุทูุฉ 4 โ โ โ
- ุชู ุฅุถุงูุฉ ุนููุฏ address ุงููุงูุต โ โ โ
- ุชู ุชูุธูู ุจูุงูุงุช owner_association ุจุดูู ุฃูุถู ๐
- ุงูููุฏ ููุธู ููุนูู ุจุงูุนุฑุจูุฉ ูุณูููุฉ ุงููุฑุงุกุฉ ๐
- ุฌููุน ุงูููู ุงูุงุฎุชูุงุฑูุฉ ูุญููุฉ ุจู `|| null` ุฃู `|| false` ๐ก๏ธ

---

**ุงูุขู ุงููุธุงู ุฌุงูุฒ ููุนูู ุจุดูู ูุงูู! ๐**
